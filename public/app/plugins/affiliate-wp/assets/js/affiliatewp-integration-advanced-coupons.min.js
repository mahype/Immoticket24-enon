"use strict";window.affwpAdvancedCoupons=window.affwpAdvancedCoupons||function($){var vars=affwpAdvancedCouponsVars,el={},app={init:function(){$(app.ready)},ready:function(){el={$table:$("#affwp-affiliate-dashboard-coupons .affwp-table")},app.events()},events:function(){el.$table.on("click",".affwp-coupon-url",app.onCopy),app.updateTooltips()},updateTooltips:function(){affiliatewp.tooltip.show(".affwp-row-header span.affwp-tooltip-help:not(.affwp-tooltip-initialized)",null,{trigger:"mouseenter focus",hideDelay:0}),app.initializeButtons(".affwp-tooltip-url-copy:not(.affwp-tooltip-initialized)","click",vars.i18n.copySuccess,1e3),app.initializeButtons(".affwp-tooltip-button-copy:not(.affwp-tooltip-initialized)","mouseenter focus",vars.i18n.copySuccess,1e3,vars.i18n.copyCouponURL,!0)},initializeButtons:function(className,trigger,content,hideDelay){var resetContent=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,manualTrigger=arguments.length>5&&void 0!==arguments[5]&&arguments[5],buttons=document.querySelectorAll(className);buttons.forEach(function(button){var instance=tippy(button,{trigger:trigger,duration:[300,250],hideOnClick:!1,onCreate:function(instance){instance.reference.classList.add("affwp-tooltip-initialized")}});button.addEventListener("click",function(){return app.handleButtonClick(instance,content,hideDelay,resetContent,manualTrigger)})})},handleButtonClick:function(instance,content,hideDelay){var resetContent=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,manualTrigger=arguments.length>4&&void 0!==arguments[4]&&arguments[4];instance.setContent(content),instance.show(),manualTrigger&&instance.setProps({trigger:"manual"}),setTimeout(function(){instance.hide(),manualTrigger&&instance.setProps({trigger:"mouseenter focus"})},hideDelay),resetContent&&instance.setProps({onHidden:function(){instance.setContent(resetContent),instance.setProps({onHidden:null})}})},onCopy:function(event){event.preventDefault(),app.copyToClipboard($(this).closest("div").data("coupon-id"))},copyToClipboard:function(couponID){var $row=el.$table.find('tbody tr div[data-coupon-id="'.concat(couponID,'"]'));if($row.length){var $copyBtn=$row.find(".affwp-copy-coupon-url");$copyBtn.hasClass("copied")||navigator&&navigator.clipboard&&navigator.clipboard.writeText($row.data("coupon-url"))}}};return app}(jQuery),affwpAdvancedCoupons.init();