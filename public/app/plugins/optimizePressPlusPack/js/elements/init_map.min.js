!function(a){a(document).ready(function(a){b()}),a(document).on("tinymce-editor-init",function(a,b){setTimeout(function(){if(void 0!==typeof tinymce&&null!==tinymce.activeEditor)for(var a=tinymce.activeEditor.contentDocument,b=a.getElementsByClassName("op-map"),d=0;d<b.length;d++)c(b[d])},1e3)});var b=function(){var b=a(".op-map");a.each(b,function(){c(this)})},c=function(b){var c=a(b),d=c.data("map"),e=new google.maps.Map(b,{center:{lat:parseFloat(d.map_position_lat),lng:parseFloat(d.map_position_lng)},zoom:parseFloat(d.map_zoom),zoomControl:Boolean(d.disable_zoom_buttons),scrollwheel:Boolean(d.disable_scroolwheel_zoom),mapTypeControl:Boolean(d.disable_satellite),streetViewControl:Boolean(d.disable_street_view),disableDoubleClickZoom:!0,draggable:Boolean(d.disable_map_drag)});a.getJSON(OptimizePress.oppp.path+"/templates/elements/maps_styles/style_"+d.map_style+".json",function(a){e.mapTypes.set("style_"+d.map_style,new google.maps.StyledMapType(a)),e.setMapTypeId("style_"+d.map_style)});new google.maps.Marker({position:{lat:parseFloat(d.marker_position_lat),lng:parseFloat(d.marker_position_lng)},map:e,icon:OptimizePress.oppp.path+"images/elements/op_map/img/"+d.marker_icon});a(window).on("resize",function(a){var b=e.getCenter();google.maps.event.trigger(e,"resize"),e.setCenter(b)})};a(document).on("op.afterLiveEditorParse",function(){setTimeout(function(){b()},401)})}(opjq,document);