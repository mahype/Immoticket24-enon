jQuery(document).ready(function(a){"object"==typeof _wpenon_data&&(a(_wpenon_data.select2_selector).select2({containerCss:{width:"100%"},closeOnSelect:!1,escapeMarkup:function(a){return a}}),_wpenon_data.active_requests=0,_wpenon_data.values={},_wpenon_data.field=function(b){return b instanceof jQuery?b:a("#"+b)},_wpenon_data.get_selector=function(a){var b=_wpenon_data.field(a);return a instanceof jQuery&&(a=b.attr("id")),b.is('input[type="radio"]')?"#"+a+'-wrap input[type="radio"]':"#"+a},_wpenon_data.get_trigger=function(a){var b=_wpenon_data.field(a);return b.is('input[type="checkbox"]')||b.is('input[type="radio"]')?"click":"change"},_wpenon_data.get_value=function(b,c){var d=_wpenon_data.field(b);if(void 0===c&&(c=!1),void 0===_wpenon_data.values[d.attr("id")]||c){var e="";if(d.is('input[type="checkbox"]'))e=d.prop("checked");else if(d.is('input[type="radio"]')){var f=a("#"+d.attr("id")+'-wrap input[type="radio"]');e=f.filter(":checked").val()}else d.is("select[multiple]")?e=null===d.val()?[]:d.val():(e=d.val(),d.hasClass("float-control")?e=_wpenon_data.parser.parseFloat(e):d.hasClass("int-control")&&(e=_wpenon_data.parser.parseInt(e)));_wpenon_data.values[d.attr("id")]=e}return _wpenon_data.values[d.attr("id")]},_wpenon_data.set_value=function(b,c,d){var e=_wpenon_data.field(b),f=_wpenon_data.get_value(e);if(void 0===d&&(d=!1),null===c||"null"===c)d&&e.prop("readonly",!1);else{if(d&&e.prop("readonly",!0),e.is('input[type="checkbox"]'))c=_wpenon_data.parser.parseBoolean(c),e.prop("checked",c);else if(e.is('input[type="radio"]')){var g=a("#"+e.attr("id")+'-wrap input[type="radio"]');g.prop("checked",!1),g.filter('[value="'+c+'"]').prop("checked",!0)}else e.hasClass("float-control")?e.val(_wpenon_data.formatter.formatFloat(c)):e.hasClass("int-control")?e.val(_wpenon_data.formatter.formatInt(c)):e.val(c);_wpenon_data.values[e.attr("id")]=c,c!=f&&e.trigger(_wpenon_data.get_trigger(e))}},_wpenon_data.format_unit=function(a){return a.indexOf("2")>-1?a.indexOf("&sup2;")<0&&(a=a.replace("2","&sup2;")):a.indexOf("3")>-1&&a.indexOf("&sup3;")<0&&(a=a.replace("3","&sup3;")),a},a("#_wpenon_progress").length?a(".form-group input, .form-group select").each(function(){var b=a(this),c=_wpenon_data.get_trigger(b);b.on(c,function(){var b=a(this).attr("id");a("#_wpenon_progress").val()?0>a("#_wpenon_progress").val().search(b)&&(a("#_wpenon_progress").val(a("#_wpenon_progress").val()+","+b),a(this).parents(".form-group").addClass("is-done")):(a("#_wpenon_progress").val(b),a(this).parents(".form-group").addClass("is-done"))})}):a("#group-basisdaten").length&&a("#group-basisdaten .form-group input").on("change",function(){var b=a(this).val();b&&b.length?a(this).parents(".form-group").addClass("is-done"):a(this).parents(".form-group").removeClass("is-done")}),a.each(_wpenon_data.dynamic_fields,function(b,c){var d=_wpenon_data.get_selector(b),e=_wpenon_data.get_trigger(b);a(d).on(e,c,function(b){_wpenon_data.get_value(a(this),!0),a.each(b.data,function(b,c){var d=[];for(var e in c.callback_args){var f,g=c.callback_args[e];if("object"==typeof c.callback_args[e])if(void 0!==c.callback_args[e].length){g=[];for(f in c.callback_args[e])"string"==typeof c.callback_args[e][f]&&0===c.callback_args[e][f].indexOf("field::")?g[f]=_wpenon_data.get_value(c.callback_args[e][f].replace("field::","")):g[f]=c.callback_args[e][f]}else{var h=Object.keys(c.callback_args[e]);g={};for(f in h)"string"==typeof c.callback_args[e][h[f]]&&0===c.callback_args[e][h[f]].indexOf("field::")?g[h[f]]=_wpenon_data.get_value(c.callback_args[e][h[f]].replace("field::","")):g[h[f]]=c.callback_args[e][h[f]]}else g="string"==typeof c.callback_args[e]&&0===c.callback_args[e].indexOf("field::")?_wpenon_data.get_value(c.callback_args[e].replace("field::","")):c.callback_args[e];d.push(g)}var i=function(b){if("string"==typeof b&&0===b.indexOf("error::")&&_wpenon_data.debug)console.warn("WPENON AJAX callback error: "+b.replace("error::",""));else if("value"===c.mode)_wpenon_data.set_value(c.target_slug,b,c.callback_hard);else if("options"==c.mode){"object"!=typeof b&&(b=a.parseJSON(b)),b=_wpenon_data.parser.parseObject(b);var d=a("#"+c.target_slug);if(d.is("select")){var e=d.val(),f="",g=!1;d.empty(),d.prop("multiple")?(null!==e&&(g=!0),e=[]):(null===e||""===e||b.hasOwnProperty(e)||(g=!0,e=""),e=[e]),d.append('<option value=""'+(e.indexOf("")>-1?" selected":"")+">"+_wpenon_data.i18n.please_select+"</option>");for(var h in b)f='<option value="'+h+'"'+(e.indexOf(h)>-1?" selected":"")+">"+b[h]+"</option>",d.append(f);g&&_wpenon_data.set_value(c.target_slug,e)}}else if("display"===c.mode)b=_wpenon_data.parser.parseBoolean(b),b?(a("#"+c.target_slug+"-wrap").fadeIn(),c.target_required&&a("#"+c.target_slug).prop("required",!0)):(a("#"+c.target_slug+"-wrap").fadeOut(),c.target_required&&a("#"+c.target_slug).prop("required",!1));else{b=_wpenon_data.parser.parseString(b);var i="";"label"===c.mode?i="headline"===c.target_type?"#"+c.target_slug+"-wrap .form-headline":'label[for="'+c.target_slug+'"]':"description"===c.mode?i="#"+c.target_slug+'-wrap [data-toggle="tooltip"]':(i="#"+c.target_slug+"-unit",b=_wpenon_data.format_unit(b)),"description"===c.mode?a(i).attr("data-original-title",b):"unit"===c.mode?a(i).length?a(i).html(b):(a("#"+c.target_slug+"-wrap").addClass("has-unit"),a("#"+c.target_slug).after('<span id="'+c.target_slug+'-unit" class="unit">'+b+"</span>")):a(i).html(b)}};void 0!==_wpenon_data.dynamic_functions[c.callback]?i(_wpenon_data.dynamic_functions[c.callback].apply(null,d)):(0===_wpenon_data.active_requests&&a("body").trigger("wpenon_ajax_start"),_wpenon_data.active_requests+=1,a.post(_wpenon_data.ajax_url,{action:"wpenon_dynamic_callback",security_nonce:_wpenon_data.security_nonce,callback:c.callback,callback_args:d},function(b){i(b),_wpenon_data.active_requests-=1,0===_wpenon_data.active_requests&&a("body").trigger("wpenon_ajax_end")}))})})}))});