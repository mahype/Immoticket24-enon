var I=(t,e,s)=>new Promise((a,p)=>{var n=u=>{try{l(s.next(u))}catch(y){p(y)}},o=u=>{try{l(s.throw(u))}catch(y){p(y)}},l=u=>u.done?a(u.value):Promise.resolve(u.value).then(n,o);l((s=s.apply(t,e)).next())});import{B as F,g as Y,a as j,b as w,S as J,L as K,_ as Q,c as W,E as X,d as Z,e as ee,P as te,f as se,I as ne,h as oe}from"./borlabs-cookie-box.5820cba7.js";import{_ as d}from"./iabtcf.3cac3bec.js";import{getPurposeState as re}from"./use-iabtcf-purposes.b14fa40e.js";import{u as x,N as ae,s as P}from"./non-iab-tcf-standard-notice.8260333e.js";import{e as T,x as D,o as i,g as k,l as h,v as c,f as m,t as C,i as L,N as V,c as ie,b as $,s as r,F as E,u as A,q as v,k as f,n as le}from"./vue.16a54326.js";import{getSpecialFeatureState as ce}from"./use-special-features.6f913439.js";import{b as q,a as pe,d as _,l as G}from"./localization.8b0c0006.js";import{B as de,P as ue}from"./powered-by-borlabs.22108990.js";import{s as be}from"./use-navigation.0f67ee00.js";import{aE as S,_ as M}from"./selectors.4bfd398c.js";import{_ as N}from"./_plugin-vue_export-helper.c27b6911.js";import"./use-iabtcf-vendors.6d431701.js";import"./_commonjsHelpers.187a63f9.js";import"./x-icon.f2880fa7.js";import"./base-button.fedbc46d.js";import"./use-iabtcf-legitimate-interests.b68a637c.js";const me={key:0,class:"brlbs-inline-block brlbs-align-middle"},fe=T({__name:"purpose-item",props:{purpose:{},description:{type:Boolean,default:!1},checkbox:{type:Boolean,default:!0}},setup(t){const e=t,s=x(),a=re(e.purpose),p="purpose_"+e.purpose.id;return D(()=>I(this,null,function*(){s.vendorCount.value=Object.keys(yield d.vendorListByPurpose(e.purpose.id)).length})),(n,o)=>(i(),k(F,{id:p,modelValue:c(a),"onUpdate:modelValue":o[0]||(o[0]=l=>V(a)?a.value=l:null),description:n.purpose.description,title:n.purpose.name,"show-description":n.description},{afterTitle:h(()=>[c(s)?(i(),m("span",me,"("+C(c(s).vendorCountString.value)+")",1)):L("",!0)]),_:1},8,["modelValue","description","title","show-description"]))}}),_e={key:0},ve=T({__name:"stack-item",props:{stack:{},description:{type:Boolean,default:!1},checkbox:{type:Boolean,default:!0}},setup(t){const e=t,s=x(),a=Y(e.stack),p="stack_"+e.stack.id;return D(()=>I(this,null,function*(){let n=[];for(const o of e.stack.purposes)n=n.concat(Object.keys(yield d.vendorListByPurpose(o)));for(const o of e.stack.specialFeatures)n=n.concat(Object.keys(yield d.vendorListBySpecialFeature(o)));n=[...new Set(n)],s.vendorCount.value=n.length})),(n,o)=>(i(),k(F,{id:p,modelValue:c(a),"onUpdate:modelValue":o[0]||(o[0]=l=>V(a)?a.value=l:null),description:n.stack.description,title:n.stack.name,"show-description":n.description},{afterTitle:h(()=>[c(s)?(i(),m("span",_e,"("+C(c(s).vendorCountString.value)+")",1)):L("",!0)]),_:1},8,["modelValue","description","title","show-description"]))}}),ge={key:0,class:"brlbs-inline-block brlbs-align-middle"},he=T({__name:"special-feature-item",props:{specialFeature:{},description:{type:Boolean,default:!1},checkbox:{type:Boolean,default:!0}},setup(t){const e=t,s=x(),a=ce(e.specialFeature),p="special_feature_"+e.specialFeature.id;return D(()=>I(this,null,function*(){s.vendorCount.value=Object.keys(yield d.vendorListBySpecialFeature(e.specialFeature.id)).length})),(n,o)=>(i(),k(F,{id:p,modelValue:c(a),"onUpdate:modelValue":o[0]||(o[0]=l=>V(a)?a.value=l:null),description:n.specialFeature.description,title:n.specialFeature.name,"show-description":n.description},{afterTitle:h(()=>[c(s)?(i(),m("span",ge,"("+C(c(s).vendorCountString.value)+")",1)):L("",!0)]),_:1},8,["modelValue","description","title","show-description"]))}}),R=t=>{var p;let e=0,s=(p=q._serviceGroups[t])==null?void 0:p.serviceIds;s||(e=0),Object.entries(pe._providers).forEach(([n,o])=>{let l=!1;o.serviceIds.forEach(u=>{s.includes(u)&&(l=!0)}),l&&e++});const a=ie(()=>e===1?e+" "+_.providerSingular.value:e+" "+_.providerPlural.value);return{providerCount:e,providerCountString:a}},ye={class:"brlbs-space-y-4"},ke={class:"brlbs-flex brlbs-items-center"},Te={key:0,class:"brlbs-inline-block brlbs-align-middle"},Ce=T({__name:"iabtcf-entrance-list",props:{showDescription:{type:Boolean,default:!1}},setup(t){let e=$([]),s=$(),a=$([]);function p(b){return d.gvl.purposes[b]}function n(b){return d.gvl.stacks[b]}function o(b){return d.gvl.specialFeatures[b]}D(()=>I(this,null,function*(){yield d.gvl.readyPromise,d.prepareVendorIds();const b=yield d.purposeList(d.vendorIds);s.value=yield d.computeStack(b),e.value=yield d.missingPurposes(b,s.value),a.value=yield d.specialFeatureList(d.vendorIds)}));const l=q.serviceGroups,u=_.iabTcfA11yServiceGroupListExplained,y=_.iabTcfA11yPurposeListExplained;return(b,H)=>(i(),m("form",ye,[r(j,{"a11y-list-explained":c(y)},{default:h(()=>[(i(!0),m(E,null,A(c(e),g=>(i(),k(w,{key:g,inline:!1},{default:h(()=>[r(fe,{purpose:p(g),description:b.showDescription},null,8,["purpose","description"])]),_:2},1024))),128)),c(s)?(i(),k(w,{key:0,inline:!1},{default:h(()=>[r(ve,{stack:n(c(s))},null,8,["stack"])]),_:1})):L("",!0),(i(!0),m(E,null,A(c(a),(g,B)=>(i(),k(w,{key:B,inline:!1},{default:h(()=>[r(he,{"special-feature":o(g),description:b.showDescription},null,8,["special-feature","description"])]),_:2},1024))),128))]),_:1},8,["a11y-list-explained"]),r(j,{"a11y-list-explained":c(u)},{default:h(()=>[(i(!0),m(E,null,A(c(l),(g,B)=>(i(),k(w,{key:B,inline:!1},{default:h(()=>[v("div",ke,[r(J,{"service-group":g,description:!0},{afterTitle:h(()=>[c(R)(g.id)?(i(),m("span",Te,"("+C(c(R)(g.id).providerCountString.value)+")",1)):L("",!0),r(de,{classes:["brlbs-inline-block brlbs-align-middle brlbs-w-3 brlbs-h-3 brlbs-ml-2"]})]),_:2},1032,["service-group"])])]),_:2},1024))),128))]),_:1},8,["a11y-list-explained"]),r(ae,{class:"brlbs-flex brlbs-justify-center"})]))}}),De=T({name:"HtmlActionsParagraph",props:{html:{type:String,required:!0}},setup(){const t=$(null);return D(()=>{t.value.querySelectorAll(`a[${S}]`).forEach(e=>{e.addEventListener("click",()=>{e.getAttribute(S)==="vendors"?P("providers"):e.getAttribute(S)==="leg-int"?P("legitimateInterests"):e.getAttribute(S)==="preferences"&&P("categories"),be("Details")})})}),{paragraphElement:t}}});const Be=["innerHTML"];function Ie(t,e,s,a,p,n){return i(),m("p",{ref:"paragraphElement",class:"brlbs-cmpnt-action-paragraph",innerHTML:t.html},null,8,Be)}const Le=N(De,[["render",Ie],["__scopeId","data-v-f96d38e5"]]),we=T({name:"IABTCFEntranceDescription",components:{LegalInformationNonEuDataTransfer:K,HtmlActionsParagraph:Le},setup(){return{entranceDescription:_.entranceDescription,iabTcfDescriptionTechnology:G.replaceAll("{{ totalVendors }}",(Object.keys(window.borlabsCookieConfig.providers).length+window.borlabsCookieConfig.tcfVendors.length-1).toString(),_.iabTcfDescriptionTechnology.value),iabTcfDescriptionPersonalData:_.iabTcfDescriptionPersonalData,iabTcfDescriptionLegInt:G.replaceAll("{{ totalVendors }}",(Object.keys(window.borlabsCookieConfig.providers).length+window.borlabsCookieConfig.tcfVendors.length-1).toString(),_.iabTcfDescriptionLegInt.value),iabTcfDescriptionMoreInformation:_.iabTcfDescriptionMoreInformation,iabTcfDescriptionNoCommitment:_.iabTcfDescriptionNoCommitment,iabTcfDescriptionRevoke:_.iabTcfDescriptionRevoke,iabTcfDescriptionIndiviualSettings:_.iabTcfDescriptionIndiviualSettings}}}),Se={class:"brlbs-space-y-2",id:"BorlabsCookieEntranceA11YDescription"},$e={class:"brlbs-cmpnt-text-description brlbs-block brlbs-text-sm",tabindex:"0"},Ee={tabindex:"0",class:"brlbs-text-sm"};function Ae(t,e,s,a,p,n){const o=f("HtmlActionsParagraph"),l=f("LegalInformationNonEuDataTransfer");return i(),m("div",Se,[v("p",$e,C(t.entranceDescription),1),r(o,{tabindex:"0",class:"brlbs-text-sm",html:t.iabTcfDescriptionTechnology},null,8,["html"]),r(o,{tabindex:"0",class:"brlbs-text-sm",html:t.iabTcfDescriptionPersonalData},null,8,["html"]),r(o,{tabindex:"0",class:"brlbs-text-sm",html:t.iabTcfDescriptionLegInt},null,8,["html"]),r(o,{tabindex:"0",class:"brlbs-text-sm",html:t.iabTcfDescriptionMoreInformation},null,8,["html"]),r(o,{tabindex:"0",class:"brlbs-text-sm",html:t.iabTcfDescriptionNoCommitment},null,8,["html"]),r(o,{tabindex:"0",class:"brlbs-text-sm",html:t.iabTcfDescriptionRevoke},null,8,["html"]),v("p",Ee,C(t.iabTcfDescriptionIndiviualSettings),1),r(l)])}const Pe=N(we,[["render",Ae]]),Fe=T({name:"IabTcf",components:{PoweredByBorlabs:ue,DynamicButton:Q,CloseButton:W,IABTCFEntranceDescription:Pe,EntranceDescription:X,Logo:Z,EntranceHeadline:ee,PreferencesLink:te,PrivacyLink:se,ImprintLink:ne,IABTCFEntranceList:Ce},setup(){return D(()=>{oe()}),{buttonEntranceOrder:M.dialogButtonEntranceOrder,showHeadlineSeparator:M.showHeadlineSeparator}}}),xe={role:"alertdialog","aria-labelledby":"BorlabsCookieEntranceA11YHeadline","aria-describedby":"BorlabsCookieEntranceA11YDescription","aria-modal":"true",class:"brlbs-cmpnt-dialog-iab-tcf brlbs-cmpnt-max-w-4xl"},Ve={role:"document"},Ne={class:"brlbs-cmpnt-dialog-iab-tcf-entrance"},He={class:"brlbs-flex brlbs-flex-col sm:brlbs-flex-row brlbs-gap-4"},Oe={class:"md:brlbs-w-1/2"},je={class:"md:brlbs-w-1/2"},Ge={class:"brlbs-mt-4 sm:brlbs-mt-6 brlbs-space-y-3"},Me={class:"brlbs-cmpnt-dialog-footer brlbs-flex brlbs-flex-wrap brlbs-items-center brlbs-justify-center"};function Re(t,e,s,a,p,n){const o=f("CloseButton"),l=f("Logo"),u=f("EntranceHeadline"),y=f("IABTCFEntranceDescription"),b=f("IABTCFEntranceList"),H=f("DynamicButton"),g=f("PreferencesLink"),B=f("PrivacyLink"),z=f("ImprintLink"),U=f("PoweredByBorlabs");return i(),m("div",xe,[r(o),v("div",Ve,[v("div",Ne,[v("div",He,[v("div",Oe,[v("div",{class:le(["brlbs-cmpnt-dialog-iab-tcf-header brlbs-justify-center",{"brlbs-cmpnt-with-separator ":t.showHeadlineSeparator}])},[r(l,{class:"brlbs-mr-2"}),r(u,{"font-size":"xlarge"})],2),r(y,{class:"brlbs-pt-4 sm:brlbs-pt-6"})]),v("div",je,[r(b),v("div",Ge,[(i(!0),m(E,null,A(t.buttonEntranceOrder,O=>(i(),m("div",{key:O},[r(H,{"button-key":O},null,8,["button-key"])]))),128))])])])]),v("div",Me,[r(g),r(B),r(z),r(U)])])])}const it=N(Fe,[["render",Re]]);export{it as default};
