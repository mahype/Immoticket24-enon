const __vite__fileDeps=[(() => window.borlabsCookieConfig.settings.pluginUrl + '/assets/' + "javascript/iabtcf.CBwKfVja.min.js")(),(() => window.borlabsCookieConfig.settings.pluginUrl + '/assets/' + "javascript/observer.DYJbeI3G.min.js")(),(() => window.borlabsCookieConfig.settings.pluginUrl + '/assets/' + "javascript/vue.yi1IrvfF.min.js")(),(() => window.borlabsCookieConfig.settings.pluginUrl + '/assets/' + "javascript/use-iabtcf-purposes.CIqYvvZP.min.js")(),(() => window.borlabsCookieConfig.settings.pluginUrl + '/assets/' + "javascript/use-iabtcf-vendors.DNCBiqII.min.js")(),(() => window.borlabsCookieConfig.settings.pluginUrl + '/assets/' + "javascript/use-special-features.D0fl2CN_.min.js")(),(() => window.borlabsCookieConfig.settings.pluginUrl + '/assets/' + "javascript/use-iabtcf-legitimate-interests.dzWtmCb7.min.js")(),(() => window.borlabsCookieConfig.settings.pluginUrl + '/assets/' + "javascript/borlabs-cookie-box.rxA24TRh.min.js")(),(() => window.borlabsCookieConfig.settings.pluginUrl + '/assets/' + "javascript/_plugin-vue_export-helper.DlAUqK2U.min.js")(),(() => window.borlabsCookieConfig.settings.pluginUrl + '/assets/' + "javascript/x-icon.DnuIVqrg.min.js")(),(() => window.borlabsCookieConfig.settings.pluginUrl + '/assets/' + "javascript/base-button.CYSn-Dkf.min.js")(),(() => window.borlabsCookieConfig.settings.pluginUrl + '/assets/' + "css/base-button.k3qGhxl_.min.css")(),(() => window.borlabsCookieConfig.settings.pluginUrl + '/assets/' + "css/borlabs-cookie-box.BNp8dQo_.min.css")(),(() => window.borlabsCookieConfig.settings.pluginUrl + '/assets/' + "javascript/borlabs-widget.YheolNLE.min.js")(),(() => window.borlabsCookieConfig.settings.pluginUrl + '/assets/' + "javascript/borlabs-cookie-preferences.CLESvn8R.min.js")(),(() => window.borlabsCookieConfig.settings.pluginUrl + '/assets/' + "javascript/borlabs-cookie-switch-consent.DFCeE3aw.min.js")(),(() => window.borlabsCookieConfig.settings.pluginUrl + '/assets/' + "javascript/service-item-switch.q0i934ai.min.js")(),(() => window.borlabsCookieConfig.settings.pluginUrl + '/assets/' + "javascript/borlabs-cookie-user-uid.CINTXLJe.min.js")(),(() => window.borlabsCookieConfig.settings.pluginUrl + '/assets/' + "javascript/borlabs-cookie-service-list.BsfxvNNW.min.js")(),(() => window.borlabsCookieConfig.settings.pluginUrl + '/assets/' + "javascript/service-item-table.CLdvzLrg.min.js")(),(() => window.borlabsCookieConfig.settings.pluginUrl + '/assets/' + "css/service-item-table.ZWeRme6m.min.css")(),(() => window.borlabsCookieConfig.settings.pluginUrl + '/assets/' + "javascript/toggle-accordion.CunsMWhq.min.js")(),(() => window.borlabsCookieConfig.settings.pluginUrl + '/assets/' + "javascript/consent-history-table.CsIunsg_.min.js")(),(() => window.borlabsCookieConfig.settings.pluginUrl + '/assets/' + "javascript/consent-history-table.D9sVaSw8.min.js")(),(() => window.borlabsCookieConfig.settings.pluginUrl + '/assets/' + "javascript/provider-service-information-table.D1OMjnmL.min.js")(),(() => window.borlabsCookieConfig.settings.pluginUrl + '/assets/' + "css/provider-service-information-table.CaSXG6NZ.min.css")()],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var ae=Object.defineProperty;var M=Object.getOwnPropertySymbols;var le=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable;var U=(r,e,t)=>e in r?ae(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,N=(r,e)=>{for(var t in e||(e={}))le.call(e,t)&&U(r,t,e[t]);if(M)for(var t of M(e))ce.call(e,t)&&U(r,t,e[t]);return r};var i=(r,e,t)=>(U(r,typeof e!="symbol"?e+"":e,t),t);var k=(r,e,t)=>new Promise((o,n)=>{var s=l=>{try{u(t.next(l))}catch(d){n(d)}},a=l=>{try{u(t.throw(l))}catch(d){n(d)}},u=l=>l.done?o(l.value):Promise.resolve(l.value).then(s,a);u((t=t.apply(r,e)).next())});import{_ as c,a as f,R as H,D as ee,b as te,c as I,d as T,e as ue,f as q,g as F,h as V,i as de,j as fe,k as pe,l as ge,m as be,C as he,n as ve,o as ke,p as Ce,q as j,r as Se,s as me,t as Te}from"./observer.DYJbeI3G.min.js";import{c as R,r as J,a as $,b as O,d as E}from"./vue.yi1IrvfF.min.js";class _e{setCookie(e,t,o,n,s,a,u){const l=[];let d="";const C=new Date;return s=s===void 0?c.cookieLifetime.value:s,l.push(e+"="+encodeURIComponent(t)),d=this.getCookieDomain(o),d!==""&&l.push("domain="+d),n===void 0||n===!1?l.push("path="+c.cookiePath.value):l.push("path="+n),typeof s=="number"?(C.setTime(C.getTime()+s*24*60*60*1e3),l.push("expires="+C.toUTCString())):l.push("expires="+s),l.push("SameSite="+u),a&&l.push("secure"),document.cookie=l.join(";"),f.info(`Add cookie "${e}".`,l),!0}deleteCookie(e,t,o){let n=!1,s="",a=[];const u=new Date;return s=this.getCookieDomain(t),o=o===!0,u.setTime(u.getTime()-864e5),a=this.findCookies(e,o),a.length&&(a.forEach(function(l){const d=[];d.push(l.name+"="),s!==""&&d.push("domain="+s),d.push("path="+c.cookiePath.value),d.push("expires="+u.toUTCString()),document.cookie=d.join(";"),f.info(`Cookie "${l.name}" deleted.`,d)}),n=!0),n}findCookies(e,t){const o=[];let n=[];return t=t===!0,t&&(e=e.replace("*","")),f.info(`Find cookie "${e}".`,{cookieName:e,imprecise:t}),document.cookie.length&&(n=document.cookie.split(";"),n.forEach(function(s){try{s=decodeURIComponent(s);const a=s.split("="),u=a[0]!==void 0?a[0].trim():"",l=a[1]!==void 0?a[1].trim():"";t?u.indexOf(e)!==-1&&o.push({name:u,value:l}):e===u&&o.push({name:u,value:l})}catch(a){f.error("The cookie is spoiled.",{error:a,cookie:s})}})),o}getCookieDomain(e){let t="";return e===void 0||e===!1?c.cookieDomain.value!==""&&c.automaticCookieDomainAndPath.value===!1&&(t=c.cookieDomain.value):t=e,t}}const x=new _e;class Oe{inArray(e,t){let o=!1;if(typeof t=="object"){for(let n=0,s=t.length;n<s;++n)if(t[n]===e){o=!0;break}}return o}onExist(e,t){const o=function(){window.hasOwnProperty(e)===!0?t(t):window.setTimeout(o,100)};o()}cloneObject(e){let t;if(e===null||typeof e!="object")return e;if(e instanceof Date)return t=new Date,t.setTime(e.getTime()),t;if(e instanceof Array){t=[];for(let o=0,n=e.length;o<n;o++)t[o]=this.cloneObject(e[o]);return t}if(e instanceof Object){t={};for(const o of Object.keys(e))t[o]=this.cloneObject(e[o]);return t}}randomTokens(e){let t="";const o="abcdefhgihjklmnopqrstuvwxyz0123456789";let n=0;if(typeof window.crypto=="object"){const s=new Uint32Array(e);for(window.crypto.getRandomValues(s),n;n<e;++n)t+=o[s[n]%37]}else for(n;n<e;++n)t+=o[Math.floor(Math.random()*o.length)];return t}replaceAll(e,t,o){for(;o.indexOf(e)!==-1;)o=o.replace(e,t);return o}}const y=new Oe;class Ee{constructor(){i(this,"_serviceGroups",null)}init(e){this._serviceGroups=e}findByServiceGroupId(e){return e in this._serviceGroups?this._serviceGroups[e]:null}get serviceGroups(){return this._serviceGroups}}const w=new Ee,K="anonymous",z="borlabs-cookie";class ye{constructor(){i(this,"_pluginCookie",{consents:{essential:[]},domainPath:"",expires:"",uid:"",v3:!0,version:0})}init(){this.getPluginCookie(),this._pluginCookie.uid===""&&(this._pluginCookie.uid=this.createUID())}getPluginCookie(){let e=[];e=x.findCookies(z);for(let t=0,o=e.length;t<o;++t){const n=e[t];try{const s=JSON.parse(n.value);s.domainPath!==void 0&&s.v3!==void 0?s.domainPath===c.cookieDomain.value+c.cookiePath.value&&(typeof s.version=="string"&&(s.version=parseInt(s.version)),this._pluginCookie={consents:s.consents,domainPath:s.domainPath,expires:s.expires,uid:s.uid,v3:s.v3,version:s.version}):f.warning("No domainPath.",s)}catch(s){f.critical("Invalid JSON in cookie value.",{cookieValue:n.value,error:s})}}return this._pluginCookie}setPluginCookie(e,t){const o={consents:e,domainPath:c.cookieDomain.value+c.cookiePath.value,expires:"",uid:this._pluginCookie.uid,v3:!0,version:c.cookieVersion.value};let n="",s=c.cookieLifetime.value;if(Object.keys(e).length===1&&(s=c.cookieLifetimeEssentialOnly.value),t||!this.isPluginCookieValid()){const a=new Date;a.setTime(a.getTime()+s*24*60*60*1e3),n=a.toUTCString()}else n=this._pluginCookie.expires;o.expires=n,typeof o.consents.essential=="undefined"&&(o.consents.essential=w.findByServiceGroupId("essential").serviceIds),Object.keys(e).length===1&&!c.iabTcfStatus.value?o.uid=K:this._pluginCookie.uid===K&&(o.uid=this.createUID()),x.setCookie(z,JSON.stringify(o),c.automaticCookieDomainAndPath.value?"":c.cookieDomain.value,c.cookiePath.value,n,c.cookieSecure.value,c.cookieSameSite.value),this.getPluginCookie()}isPluginCookieValid(){let e=!1;return this._pluginCookie.version===c.cookieVersion.value&&typeof this._pluginCookie.v3!="undefined"?e=!0:this._pluginCookie.consents={essential:[]},e}createUID(){let e="";return e=y.randomTokens(8)+"-"+y.randomTokens(8)+"-"+y.randomTokens(8)+"-"+y.randomTokens(8),e}get pluginCookie(){return this._pluginCookie}}const p=new ye;function Be(r){return H("POST","borlabs-cookie/v1/consent/log",{language:c.language.value,consentLog:r}).then(e=>e).catch(e=>{f.error(e)})}class Ae{add(){return k(this,null,function*(){return Be({borlabsCookieConsentString:this.transformToServiceGroupConsentListJSONString(p.pluginCookie.consents),iabTcfTCString:window.BorlabsCookie.Adapter.IABTCF().currentTCString,uid:p.pluginCookie.uid,version:p.pluginCookie.version})})}transformToServiceGroupConsentListJSONString(e){const t=Object.entries(e).map(([o,n])=>({id:o,services:n}));return JSON.stringify(t)}}const oe=new Ae;class we{constructor(){i(this,"_events",{})}register(e,t){return this._events[e]===void 0?(Object.defineProperty(this._events,e,{value:document.createEvent("Event")}),this._events[e].initEvent(t,!0,!0),f.info(`Event "${e}" registered. Listener: "${t}".`,{eventId:e,eventName:t}),!0):(f.error(`Event "${e}" already exists.`,{eventId:e,eventName:t}),!1)}dispatch(e){return this._events[e]!==void 0?(f.info(`Dispatch event "${e}".`,{eventId:e}),document.dispatchEvent(this._events[e]),!0):(f.error(`Event "${e}" does not exist.`,{eventId:e}),!1)}get events(){return this._events}}const m=new we,De="modulepreload",Le=function(r,e){return r[0]==="."?new URL(r,e).href:r},W={},h=function(e,t,o){let n=Promise.resolve();if(t&&t.length>0){const s=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));n=Promise.all(t.map(l=>{if(l=Le(l,o),l in W)return;W[l]=!0;const d=l.endsWith(".css"),C=d?'[rel="stylesheet"]':"";if(!!o)for(let B=s.length-1;B>=0;B--){const D=s[B];if(D.href===l&&(!d||D.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${C}`))return;const v=document.createElement("link");if(v.rel=d?"stylesheet":De,d||(v.as="script",v.crossOrigin=""),v.href=l,u&&v.setAttribute("nonce",u),document.head.appendChild(v),d)return new Promise((B,D)=>{v.addEventListener("load",B),v.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${l}`)))})}))}return n.then(()=>e()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};class Ie{constructor(){i(this,"_services",null)}init(e){this._services=e}findByServiceId(e){return e in this._services?this._services[e]:null}isValid(e,t){for(const o of Object.values(this._services))if(o.id===e&&o.serviceGroupId===t)return!0;return!1}findByServiceGroupId(e){const t={};for(const o of Object.values(this._services))o.serviceGroupId===e&&(t[o.id]=o);return t}findByProviderId(e){const t={};for(const o of Object.values(this._services))o.providerId===e&&(t[o.id]=o);return t}get services(){return this._services}}const g=new Ie;class Pe{handle(){const e=g.services;if(e!==null)for(const t of Object.keys(e)){const o=e[t];if(!(o.settings["block-cookies-before-consent"]===void 0||o.settings["block-cookies-before-consent"]!=="1")&&o.cookies.length!==0&&A.hasConsent(t,o.serviceGroupId)!==!0)for(const n of o.cookies)f.info(`Try to block cookie "${n.name}".`,{cookieName:n.name,service:t,serviceGroup:o.serviceGroupId}),x.deleteCookie(n.name,!1,n.name.indexOf("*")!==-1)}}}const xe=new Pe;function He(){return H("GET","borlabs-cookie/v1/dialog/visibility",{language:c.language.value}).then(r=>r).catch(r=>{f.error(r)})}class Re{constructor(){i(this,"consentRequired",!0);i(this,"ipChecked",!1)}isConsentRequired(){return k(this,null,function*(){var e;if(!c.dialogGeoIpActive.value||window.navigator.userAgent.indexOf("Borlabs-Scanner")!==-1)return!0;if(c.dialogGeoIpActive.value&&!c.dialogGeoIpCachingMode.value&&((e=document.getElementById("BorlabsCookieBox"))==null?void 0:e.getAttribute(ee))==="false")return!1;if(!this.ipChecked){let t=yield He();this.ipChecked=!0,t&&t.visible===!1&&(this.consentRequired=!1)}return this.consentRequired})}}const Ue=new Re;let b;const ie=function(r){b[r]=Object.keys(g.findByServiceGroupId(r))},Ne=function(r){ne(r)||(b[r]=[])},Ve=function(r){const e=g.findByServiceId(r);if(e!==null)if(b[e.serviceGroupId]){if(b[e.serviceGroupId].indexOf(r)>-1)return;b[e.serviceGroupId].push(r)}else b[e.serviceGroupId]=[r]},je=function(r){const e=g.findByServiceId(r);if(e===null||b[e.serviceGroupId]===void 0)return;const t=b[e.serviceGroupId].indexOf(r);t>-1&&b[e.serviceGroupId].splice(t,1),b[e.serviceGroupId].length===0&&(ne(e.serviceGroupId)||delete b[e.serviceGroupId])},Y=R(()=>b),ne=function(r){return r==="essential"},rt=function(r){const e=g.findByServiceId(r);return e!==null&&e.serviceGroupId==="essential"},at=r=>R({get:()=>{var t;const e=(t=g.findByServiceId(r))==null?void 0:t.serviceGroupId;return e in b&&b[e].find(o=>o===r)!==void 0},set:e=>{e?Ve(r):je(r)}}),lt=r=>R({get:()=>{let e=!1;return Object.keys(Y.value).forEach(t=>{r===t&&(e=Y.value[t].length!==0)}),e},set:e=>{e?ie(r):Ne(r)}});function se(){p.isPluginCookieValid()?b=J(p.pluginCookie.consents):(b=J({}),Object.keys(g.services).forEach(r=>{const e=g.services[r];w.findByServiceGroupId(e.serviceGroupId).preSelected&&ie(e.serviceGroupId)}))}class Ge{constructor(){i(this,"_contentBlockers",null)}init(e){this._contentBlockers=e}findByContentBlockerId(e){return e in this._contentBlockers?this._contentBlockers[e]:null}unblockServices(e){const t=this._contentBlockers[e].serviceId,o=g.findByServiceId(t);o&&(A.addConsent(t,o.serviceGroupId),se())}hasUnblockAllSettingEnabled(e){return!!(this._contentBlockers[e]&&this._contentBlockers[e].settings&&this._contentBlockers[e].settings.unblockAll==="1")}get contentBlockers(){return this._contentBlockers}}const L=new Ge;class $e{constructor(){i(this,"_allocatedScripts",{});i(this,"_unblockedScriptsStatus",{jsHandle:{},scriptBlockerId:{}})}allocateScriptBlockerToContentBlocker(e,t,o){(o==="scriptBlockerId"||o==="jsHandle")&&(this._allocatedScripts[e]===void 0&&(this._allocatedScripts[e]={scriptBlockerId:[],jsHandle:[]}),this._allocatedScripts[e][o].indexOf(t)===-1&&this._allocatedScripts[e][o].push(t))}blockedScriptsLoaded(e,t){let o=!1;return this._unblockedScriptsStatus[t][e]!==void 0&&this._unblockedScriptsStatus[t][e]===0&&(o=!0),o}get allocatedScripts(){return this._allocatedScripts}getNumberOfUnblockedScripts(e,t){return this._unblockedScriptsStatus[t][e]}updateStatusOfUnblockedScripts(e,t,o){return this._unblockedScriptsStatus[t][e]=o,!0}}const S=new $e;class Me{constructor(){i(this,"_optInCodesUnblocked",{});i(this,"_optOutCodesUnblocked",{});i(this,"_contentBlockerGlobalCodeExecuted",{});i(this,"_insertedNodes",{})}init(){document.addEventListener("borlabs-cookie-consent-saved",function(){window.BorlabsCookie.Unblock.unblockServiceOptInCode(),window.BorlabsCookie.Unblock.unblockInlineCode("service-group"),window.BorlabsCookie.Unblock.unblockInlineCode("service"),window.BorlabsCookie.Unblock.unblockByContentBlockerServiceConsents()}),document.addEventListener("borlabs-cookie-handle-unblock",function(){window.BorlabsCookie.Unblock.unblockServiceOptInCode(),window.BorlabsCookie.Unblock.unblockInlineCode("service-group"),window.BorlabsCookie.Unblock.unblockInlineCode("service"),window.BorlabsCookie.Unblock.unblockByContentBlockerServiceConsents()})}unblockServiceOptInCode(){const e=p.pluginCookie.consents;for(const t of Object.keys(e))for(const o of e[t]){if(w.findByServiceGroupId(t)===null||(this._optInCodesUnblocked[t]===void 0&&(this._optInCodesUnblocked[t]={}),g.findByServiceId(o)===null)||this._optInCodesUnblocked[t][o]!==void 0)continue;this._optInCodesUnblocked[t][o]=!0;const n=g.findByServiceId(o);n.optInCode!==void 0&&this.insertAndExecuteServiceCode(n.optInCode)}f.info("Opt-in codes unblocked.",{consents:e})}unblockServiceOptOutCode(e,t){if(!g.isValid(t,e)||(this._optOutCodesUnblocked[e]===void 0&&(this._optOutCodesUnblocked[e]={}),this._optOutCodesUnblocked[e][t]!==void 0))return;this._optOutCodesUnblocked[e][t]=!0;const o=g.findByServiceId(t);o.optOutCode!==void 0&&(this.insertAndExecuteServiceCode(o.optOutCode),f.info("Opt-out code unblocked.",{serviceGroup:e,service:t}))}unblockInlineCode(e){const t=e==="service"?de:fe;document.querySelectorAll(`[${t}]`).forEach(o=>{var a;if(!(o instanceof HTMLElement))return;const n=o.getAttribute(t),s=o.getAttribute(te);n!==null&&s===null&&(e==="service-group"&&A.hasConsentForServiceGroup(n)||e==="service"&&A.hasConsent(n))&&(this.embedHtmlElements(this.b64DecodeToUnicode((a=o.getAttribute(I))!=null?a:""),o),o.remove(),f.info('Inline code unblocked of id "${id}".',{id:n,type:e}))})}unblockByContentBlockerServiceConsents(){document.querySelectorAll(`[${T}]`).forEach(e=>{e instanceof HTMLElement&&this.unblockContentBlockerIfServiceConsentGiven(e)})}unblockContentBlockerIfServiceConsentGiven(e){var o,n;if(!(e instanceof HTMLElement))return;const t=e.getAttribute(T);t!==null&&A.hasConsent((n=(o=L.findByContentBlockerId(t))==null?void 0:o.serviceId)!=null?n:"")&&this.unblockContentBlockerElement(e)}unblockContentBlockerElement(e){return k(this,null,function*(){var n,s,a;const t=typeof e.getAttribute(I)!="undefined"?e:e.closest(`[${I}}]`);if(t===null)return;this.executeContentBlockerGlobalJavaScriptBeforeUnblocking((n=t.getAttribute(T))!=null?n:"");const o=this.embedHtmlElements(this.b64DecodeToUnicode((s=t.getAttribute(I))!=null?s:""),t);f.info(`Html elements embedded, nodeIndex "${o}".`,{contentBlockerId:t.getAttribute(T)}),yield this.handleContentBlockerJavaScriptExecutionAfterUnblocking((a=t.getAttribute(T))!=null?a:"",o),t.remove()})}handleContentBlockerJavaScriptExecutionAfterUnblocking(e,t){return k(this,null,function*(){const o=L.contentBlockers[e],n=()=>k(this,null,function*(){return new Promise(s=>{let a=!0;if(S.allocatedScripts[e]!==void 0){const u=S.allocatedScripts[e];if(u.scriptBlockerId.length)for(const l of u.scriptBlockerId)S.blockedScriptsLoaded(l,"scriptBlockerId")||(a=!1);if(u.jsHandle.length)for(const l of u.jsHandle)S.blockedScriptsLoaded(l,"jsHandle")||(a=!1)}a?(f.info("Blocked scripts loaded.",{id:e}),s(!0)):setTimeout(()=>{n().then(s)},50)})});return n().then(s=>(this.executeContentBlockerGlobalJavaScriptAfterUnblocking(e,o),f.info(`Execute initialization code of Content Blocker id "${e}".`,{code:o.javaScriptInitialization}),this.executeContentBlockerJavaScript(o.javaScriptInitialization,e,t),s))})}executeContentBlockerGlobalJavaScriptBeforeUnblocking(e){if(e){const t=L.contentBlockers[e];t&&t.settings&&t.settings["execute-global-code-before-unblocking"]==="1"&&this._contentBlockerGlobalCodeExecuted[e]===void 0&&(f.info(`Execute global code of Content Blocker id "${e}".`,{code:t.javaScriptGlobal}),this.executeContentBlockerJavaScript(t.javaScriptGlobal,e),this._contentBlockerGlobalCodeExecuted[e]=!0)}}executeContentBlockerGlobalJavaScriptAfterUnblocking(e,t){t.settings&&t.settings["execute-global-code-before-unblocking"]!=="1"&&this._contentBlockerGlobalCodeExecuted[e]===void 0&&(f.info(`Execute global code of Content Blocker id "${e}".`,{code:t.javaScriptGlobal}),this.executeContentBlockerJavaScript(t.javaScriptGlobal,e),this._contentBlockerGlobalCodeExecuted[e]=!0)}insertAndExecuteServiceCode(e){this.embedHtmlElements(this.b64DecodeToUnicode(e),document.querySelector("body").lastElementChild)}executeContentBlockerJavaScript(e,t,o){this.embedHtmlElements('<script type="text/javascript">(function(contentBlockerData, el) { '+this.decodeHTMLEntities(e)+`
})(window.borlabsCookieConfig.contentBlockers['`+t+"'], "+(o?"window.BorlabsCookie.Unblock.getlastInsertedNode("+o+")":null)+");<\/script>",document.querySelector("body").lastElementChild)}embedHtmlElements(e,t){const o=t.parentElement,n=document.createRange();n.selectNode(o);const s=n.createContextualFragment(e);return t.nextElementSibling?(o.insertBefore(s,t.nextElementSibling),this._insertedNodes[Object.keys(this._insertedNodes).length]=t.nextElementSibling):(o.appendChild(s),this._insertedNodes[Object.keys(this._insertedNodes).length]=o.lastElementChild),Object.keys(this._insertedNodes).length}unblockScriptBlockerId(e){const t=`[${pe}="${e}"]`,o=document.querySelectorAll(t);return o.length>0&&(S.updateStatusOfUnblockedScripts(e,"scriptBlockerId",o.length),f.info(`Unblock script id "${e}".`,{total:o.length}),this.unblockScript(t,e,"scriptBlockerId")),!0}unblockScriptBlockerHandle(e){const t=`[${ge}="${e}"]`,o=document.querySelectorAll(t);return o.length&&(S.updateStatusOfUnblockedScripts(e,"jsHandle",o.length),f.info(`Unblock handle "${e}".`,{total:o.length}),this.unblockScript(t,e,"jsHandle")),!0}unblockScript(e,t,o){var s,a,u,l;const n=document.querySelector(e);if(n!==null){const d=document.createElement("script");n.id!==""&&(d.id=n.id),n.className!==""&&(d.className=n.className);for(const _ of Object.keys(n.dataset))if(_.indexOf("borlabs")===-1){const v=_.split(/(?=[A-Z])/);v.forEach((B,D)=>{v[D]="-"+B.toLowerCase()}),d.setAttribute("data"+v.join(""),n.dataset[_])}const C=n.getAttribute(ue);f.info(`Unblock script of id "${t}".`,{id:t,inlineScript:C===null,remainingBlockedScripts:document.querySelectorAll(e).length-1,selector:e}),C!==null?(d.src=C,d.onload=()=>{S.updateStatusOfUnblockedScripts(t,o,S.getNumberOfUnblockedScripts(t,o)-1),this.unblockScript(e,t,o)},(s=n.parentNode)==null||s.insertBefore(d,n),(a=n.parentNode)==null||a.removeChild(n)):(d.type="text/javascript",d.innerHTML=n.innerHTML,(u=n.parentNode)==null||u.insertBefore(d,n),(l=n.parentNode)==null||l.removeChild(n),S.updateStatusOfUnblockedScripts(t,o,S.getNumberOfUnblockedScripts(t,o)-1),this.unblockScript(e,t,o))}return!0}unblockStyleBlockerHandle(e){document.querySelectorAll("["+q+'="'+e+'"]').forEach(o=>{o instanceof HTMLElement&&this.unblockLinkElement(o)})}unblockLinkElement(e){const t=e.getAttribute(F),o=e.getAttribute(V);t&&(f.info(`Unblock link tag of id "${o}".`,{href:t,id:o}),e.setAttribute("href",t),e.removeAttribute(q),e.removeAttribute(F),e.removeAttribute(V))}unblockStyleBlockerId(e){document.querySelectorAll("["+V+'="'+e+'"]').forEach(o=>{var n,s;if(o instanceof HTMLElement){if(o.tagName.toLowerCase()==="link")this.unblockLinkElement(o);else if(o.tagName.toLowerCase()==="script"){f.info(`Unblock style tag "${e}".`,{id:e});const a=document.createElement("style");a.textContent=o.innerText,(n=o.parentNode)==null||n.insertBefore(a,o.nextSibling),(s=o.parentNode)==null||s.removeChild(o)}}})}b64DecodeToUnicode(e){return decodeURIComponent(Array.prototype.map.call(window.atob(e),function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""))}decodeHTMLEntities(e){const t=document.createElement("textarea");return t.innerHTML=e,t.value}set optInCodesUnblocked(e){this._optInCodesUnblocked=e}getlastInsertedNode(e){return this._insertedNodes[e-1]}}const P=new Me;class qe{constructor(){i(this,"_providers",null)}findByContentBlockerId(e){for(const t of Object.values(this._providers))if(t.contentBlockerIds.includes(e))return t;return null}findByProviderId(e){return e in this._providers?this._providers[e]:null}findByIabVendorId(e){for(const t of Object.values(this._providers))if(t.iabVendorId===e)return t;return null}findByServiceId(e){for(const t of Object.values(this._providers))if(t.serviceIds.includes(e))return t;return null}init(e){this._providers=e}get providers(){return this._providers}}const Fe=new qe;function Je(){return H("GET","borlabs-cookie/v1/consent/history",{language:c.language.value}).then(r=>r).catch(r=>{f.error(r)})}class Ke{constructor(){i(this,"consentHistory")}unset(){this.consentHistory=void 0}get(){return k(this,null,function*(){this.consentHistory||(this.consentHistory=yield Je());const e=[];return typeof this.consentHistory!="undefined"&&Object.entries(this.consentHistory).forEach(([,t])=>{const o={essential:[]};Object.entries(t.consents).forEach(([,n])=>{o[n.key]=n.services}),e.push({consents:o,iabTcfTCString:t.iabTcfTCString,isLatest:!!t.isLatest,stamp:t.stamp,version:t.version})}),e})}}const ze=new Ke,ct=Symbol("GUIDialog"),re=$("Entrance"),G=$(!0),We=$(!0);function ut(r){G.value=r,ze.unset()}function Q(r){re.value=r}function Z(r){We.value=r}R(()=>re.value);class Ye extends be{constructor(){super(...arguments);i(this,"_config",{});i(this,"imprintLink");i(this,"privacyLink");i(this,"a11yProviderDialogExplained");i(this,"a11yProviderListExplained");i(this,"a11yServiceGroupListExplained");i(this,"entranceAcceptAllButton");i(this,"entranceAcceptOnlyEssential");i(this,"entranceDescription");i(this,"entranceHeadline");i(this,"entranceLanguageSwitcherLink");i(this,"entrancePreferencesButton");i(this,"entrancePreferencesLink");i(this,"entranceSaveConsentButton");i(this,"detailsAcceptAllButton");i(this,"detailsAcceptOnlyEssential");i(this,"detailsBackLink");i(this,"detailsDescription");i(this,"detailsDeselectAll");i(this,"detailsHeadline");i(this,"detailsHideMoreInformationLink");i(this,"detailsSaveConsentButton");i(this,"detailsSelectAll");i(this,"detailsShowMoreInformationLink");i(this,"detailsSwitchStatusActive");i(this,"detailsSwitchStatusInactive");i(this,"detailsTabConsentHistory");i(this,"detailsTabProvider");i(this,"detailsTabServices");i(this,"detailsTabServiceGroups");i(this,"legalInformationDescriptionConfirmAge");i(this,"legalInformationDescriptionIndividualSettings");i(this,"legalInformationDescriptionMoreInformation");i(this,"legalInformationDescriptionNonEuDataTransfer");i(this,"legalInformationDescriptionNoObligation");i(this,"legalInformationDescriptionPersonalData");i(this,"legalInformationDescriptionRevoke");i(this,"legalInformationDescriptionTechnology");i(this,"serviceDetailsTableServiceOptions");i(this,"servicePlural");i(this,"serviceSearchPlaceholder");i(this,"serviceSingular");i(this,"providerAddress");i(this,"providerCloseButton");i(this,"providerCookieUrl");i(this,"providerDescription");i(this,"providerInformationTitle");i(this,"providerName");i(this,"providerOptOutUrl");i(this,"providerPartners");i(this,"providerPlural");i(this,"providerPrivacyUrl");i(this,"providerSearchPlaceholder");i(this,"providerSingular");i(this,"consentHistoryLoading");i(this,"consentHistoryNoData");i(this,"consentHistoryTableChoice");i(this,"consentHistoryTableConsentGiven");i(this,"consentHistoryTableConsentWithdrawn");i(this,"consentHistoryTableConsents");i(this,"consentHistoryTableDate");i(this,"consentHistoryTableVersion");i(this,"consentHistoryTableVersionChanges");i(this,"consentHistoryTableVersionChangesAdded");i(this,"consentHistoryTableVersionChangesRemoved");i(this,"iabTcfA11yPurposeListExplained");i(this,"iabTcfA11yServiceGroupListExplained");i(this,"iabTcfDataRetention");i(this,"iabTcfDataRetentionInDays");i(this,"iabTcfDescriptionIndiviualSettings");i(this,"iabTcfDescriptionLegInt");i(this,"iabTcfDescriptionMoreInformation");i(this,"iabTcfDescriptionNoCommitment");i(this,"iabTcfDescriptionPersonalData");i(this,"iabTcfDescriptionRevoke");i(this,"iabTcfDescriptionTechnology");i(this,"iabTcfHeadlineConsentHistory");i(this,"iabTcfHeadlineConsentHistoryNonTcfStandard");i(this,"iabTcfHeadlineDataCategories");i(this,"iabTcfHeadlineFeatures");i(this,"iabTcfHeadlineIllustrations");i(this,"iabTcfHeadlineLegitimateInterests");i(this,"iabTcfHeadlineNonTcfCategories");i(this,"iabTcfHeadlinePurposes");i(this,"iabTcfHeadlineSpecialFeatures");i(this,"iabTcfHeadlineSpecialPurposes");i(this,"iabTcfHeadlineStandardDataRetention");i(this,"iabTcfHeadlineVendorAdditionalInformation");i(this,"iabTcfHeadlineVendorConsentHistory");i(this,"iabTcfNonTcf");i(this,"iabTcfShowAllProviders");i(this,"iabTcfShowAllVendors");i(this,"iabTcfTabCategories");i(this,"iabTcfTabLegitimateInterest");i(this,"iabTcfTabVendors");i(this,"iabTcfVendorLegitimateInterestClaim");i(this,"iabTcfVendorPlural");i(this,"iabTcfVendorPrivacyPolicy");i(this,"iabTcfVendorSearchPlaceholder");i(this,"iabTcfVendorSingular")}getCookiePurposeValue(t){return{functional:window.borlabsCookieConfig.globalStrings.serviceDetailsTableCookiePurposeFunctional,tracking:window.borlabsCookieConfig.globalStrings.serviceDetailsTableCookiePurposeTracking}[t]}getCookieTypeValue(t){return{http:window.borlabsCookieConfig.globalStrings.serviceDetailsTableCookieTypeHttp,local_storage:window.borlabsCookieConfig.globalStrings.serviceDetailsTableCookieTypeLocalStorage,session_storage:window.borlabsCookieConfig.globalStrings.serviceDetailsTableCookieTypeSessionStorage}[t]}getServiceDetailsTableLabel(t){return{cookies:window.borlabsCookieConfig.globalStrings.serviceDetailsTableCookies,description:window.borlabsCookieConfig.globalStrings.serviceDetailsTableDescription,hosts:window.borlabsCookieConfig.globalStrings.serviceDetailsTableHosts,lifetime:window.borlabsCookieConfig.globalStrings.serviceDetailsTableCookieLifetime,name:window.borlabsCookieConfig.globalStrings.serviceDetailsTableName,purpose:window.borlabsCookieConfig.globalStrings.serviceDetailsTableCookiePurpose,type:window.borlabsCookieConfig.globalStrings.serviceDetailsTableCookieType}[t]}getServiceOptionLabel(t){return{dataCollection:window.borlabsCookieConfig.globalStrings.serviceDetailsTableServiceOptionDataCollection,dataPurpose:window.borlabsCookieConfig.globalStrings.serviceDetailsTableServiceOptionDataPurpose,distribution:window.borlabsCookieConfig.globalStrings.serviceDetailsTableServiceOptionDistribution,legalBasis:window.borlabsCookieConfig.globalStrings.serviceDetailsTableServiceOptionLegalBasis,processingLocation:window.borlabsCookieConfig.globalStrings.serviceDetailsTableServiceOptionProcessingLocation,technology:window.borlabsCookieConfig.globalStrings.serviceDetailsTableServiceOptionTechnology}[t]}}const Qe=new Ye;class Ze{constructor(){i(this,"cookieBoxMounted",!1);i(this,"shortcodesMounted",!1);i(this,"widgetMounted",!1)}isBot(){return/bot|googlebot|crawler|spider|robot|crawling|lighthouse/i.test(navigator.userAgent.toLowerCase())}init(){return k(this,null,function*(){var e;if(window.location.href!=="about:blank"){if(p.init(),se(),xe.handle(),m.register("consentSaved","borlabs-cookie-consent-saved"),m.register("handleUnblock","borlabs-cookie-handle-unblock"),m.register("afterInit","borlabs-cookie-after-init"),P.init(),m.dispatch("afterInit"),document.querySelectorAll('[undefined="uid"]').forEach(t=>{if(!(t instanceof HTMLElement))throw"unexpected type";t.innerHTML=p.pluginCookie.uid}),p.isPluginCookieValid()&&(!c.iabTcfStatus.value||c.iabTcfStatus.value&&window.BorlabsCookie.Adapter.IABTCF().isTCStringUpToDate()===!0))c.iabTcfStatus.value&&window.BorlabsCookie.Adapter.IABTCF().signalDoNowShowUI(),m.dispatch("handleUnblock");else if(c.dialogShowDialog.value)if(((e=document.getElementById("BorlabsCookieBox"))==null?void 0:e.getAttribute(ee))==="true"){if(!this.isPageInHideDialogOnPagesList(window.location.protocol+"//"+window.location.hostname+window.location.pathname))if(c.cookiesForBots.value&&this.isBot())this.saveConsentAll(),m.dispatch("handleUnblock");else if(c.respectDoNotTrack.value&&typeof navigator.doNotTrack!="undefined"&&navigator.doNotTrack==="1"){const t={essential:Object.keys(g.findByServiceGroupId("essential"))};A.save(t),m.dispatch("handleUnblock")}else(yield Ue.isConsentRequired())?this.loadCookieBox():this.saveConsentAll()}else this.saveConsentAll(),m.dispatch("handleUnblock");this.loadWidget(),this.loadShortcodes()}})}saveConsentAll(){return k(this,null,function*(){c.iabTcfStatus.value&&(yield window.BorlabsCookie.Adapter.IABTCF().saveConsentAll());const e={essential:Object.keys(g.findByServiceGroupId("essential"))};for(const t of Object.keys(w.serviceGroups))e[t]=Object.values(w.findByServiceGroupId(t).serviceIds);A.save(e)})}loadIABTCFConsents(){return k(this,null,function*(){const t=(yield h(()=>import("./iabtcf.CBwKfVja.min.js").then(u=>u.i),__vite__mapDeps([0,1,2]),import.meta.url)).IABTCF,o=yield h(()=>import("./use-iabtcf-purposes.CIqYvvZP.min.js"),__vite__mapDeps([3,4,0,1,2]),import.meta.url),n=yield h(()=>import("./use-special-features.D0fl2CN_.min.js"),__vite__mapDeps([5,4,0,1,2]),import.meta.url),s=yield h(()=>import("./use-iabtcf-vendors.DNCBiqII.min.js"),__vite__mapDeps([4,0,1,2]),import.meta.url),a=yield h(()=>import("./use-iabtcf-legitimate-interests.dzWtmCb7.min.js"),__vite__mapDeps([6,0,1,2]),import.meta.url);yield t.gvl.readyPromise,t.prepareVendorIds(),t.isTCStringUpToDate()?(c.language.value!=="en"&&(yield t.gvl.changeLanguage(c.language.value)),Object.keys(t.gvl.purposes).forEach(u=>{const l=parseInt(u);t.hasConsentPurpose(l)&&o.activatePurpose(t.gvl.purposes[l]),t.hasConsentLegInt(l)&&a.activateLegitimatePurpose(t.gvl.purposes[l])}),Object.keys(t.gvl.specialFeatures).forEach(u=>{const l=parseInt(u);t.hasConsentSpecialFeature(l)&&n.activateSpecialFeature(t.gvl.specialFeatures[l])}),Object.keys(t.gvl.vendors).forEach(u=>{const l=parseInt(u);t.hasConsentVendor(l)&&s.activateVendor(t.gvl.vendors[l]),t.hasConsentVendorLegInt(l)&&a.activateLegitimateInterestVendor(t.gvl.vendors[l])})):yield a.activateAllLegitimateInterests()})}loadCookieBox(){return k(this,null,function*(){c.iabTcfStatus.value&&(yield this.loadIABTCFConsents()),this.cookieBoxMounted||(O(E(()=>h(()=>import("./borlabs-cookie-box.rxA24TRh.min.js").then(e=>e.q),__vite__mapDeps([7,2,1,8,4,0,3,5,9,10,11,6,12]),import.meta.url))).mount("#BorlabsCookieBox"),this.cookieBoxMounted=!0)})}loadWidget(){this.widgetMounted||(O(E(()=>h(()=>import("./borlabs-widget.YheolNLE.min.js"),__vite__mapDeps([13,2,1]),import.meta.url))).mount("#BorlabsCookieWidget"),this.widgetMounted=!0)}loadShortcodes(){this.shortcodesMounted||(document.querySelectorAll(he).forEach(e=>{if(!(e instanceof HTMLElement))throw"unexpected type";let t=e.querySelector("a");if(e instanceof HTMLAnchorElement||e instanceof HTMLButtonElement)e.addEventListener("click",o=>{o.preventDefault(),this.loadCookieBox(),Z(!1),Q("Details"),G.value=!0});else if(t!==null)t.addEventListener("click",o=>{o.preventDefault(),this.loadCookieBox(),Z(!1),Q("Details"),G.value=!0});else{if(typeof e.dataset.borlabsCookieTitle=="undefined"){let o=e.querySelector("a");o!==null?e.dataset.borlabsCookieTitle=o.innerText:e.dataset.borlabsCookieTitle=Qe.entrancePreferencesLink.value}O(E(()=>h(()=>import("./borlabs-cookie-preferences.CLESvn8R.min.js"),__vite__mapDeps([14,10,2,8,11,1]),import.meta.url)),N({},e.dataset)).mount(e)}}),document.querySelectorAll(`[${te}]`).forEach(e=>{if(!(e instanceof HTMLElement))throw"unexpected type";O(E(()=>h(()=>import("./borlabs-cookie-switch-consent.DFCeE3aw.min.js"),__vite__mapDeps([15,16,1,2,8]),import.meta.url)),N({},e.dataset)).mount(e)}),document.querySelectorAll(`[${ve}]`).forEach(e=>{if(!(e instanceof HTMLElement))throw"unexpected type";O(E(()=>h(()=>import("./borlabs-cookie-user-uid.CINTXLJe.min.js"),__vite__mapDeps([17,2,8,1]),import.meta.url))).mount(e)}),document.querySelectorAll(`[${ke}]`).forEach(e=>{if(!(e instanceof HTMLElement))throw"unexpected type";O(E(()=>h(()=>import("./borlabs-cookie-service-list.BsfxvNNW.min.js"),__vite__mapDeps([18,19,2,1,8,20,16,21]),import.meta.url))).mount(e)}),document.querySelectorAll(`[${Ce}]`).forEach(e=>{if(!(e instanceof HTMLElement))throw"unexpected type";O(E(()=>h(()=>import("./consent-history-table.CsIunsg_.min.js"),__vite__mapDeps([22,23,1,2]),import.meta.url))).mount(e)}),j("body",`[${T}]`,e=>{this.registerContentBlockerEvents(e),P.unblockContentBlockerIfServiceConsentGiven(e)}),document.querySelectorAll(`[${T}]`).forEach(e=>{if(!(e instanceof HTMLElement))throw"unexpected type";this.registerContentBlockerEvents(e)}),j("body","a",e=>{this.addTCStringToUrl(e)}),j("body","img",e=>{this.addTCStringToUrl(e)}),document.querySelectorAll("a").forEach(e=>{this.addTCStringToUrl(e)}),document.querySelectorAll("img").forEach(e=>{this.addTCStringToUrl(e)}),this.shortcodesMounted=!0)}addTCStringToUrl(e){if(!(!c.iabTcfStatus.value||c.iabTcfHostnamesForConsentAddition.value.length===0)&&!(e instanceof HTMLAnchorElement&&e.href===""||!(e instanceof HTMLImageElement)))try{let t=new URL(e instanceof HTMLAnchorElement?e.href:e.src);if(c.iabTcfHostnamesForConsentAddition.value.indexOf(t.hostname)===-1)return;let o=window.BorlabsCookie.Adapter.IABTCF().currentTCString;if(o.length<=0){typeof __tcfapi=="function"&&__tcfapi("addEventListener",2,(n,s)=>{o=window.BorlabsCookie.Adapter.IABTCF().currentTCString,t.searchParams.has("gdpr")?t.searchParams.set("gdpr",1):t.searchParams.append("gdpr",1),t.searchParams.has("gdpr_consent")?t.searchParams.set("gdpr_consent",o):t.searchParams.append("gdpr_consent",o),e instanceof HTMLAnchorElement?e.href=t.href:e instanceof HTMLImageElement&&(e.src=t.href)});return}t.searchParams.has("gdpr")?t.searchParams.set("gdpr",1):t.searchParams.append("gdpr",1),t.searchParams.has("gdpr_consent")?t.searchParams.set("gdpr_consent",o):t.searchParams.append("gdpr_consent",o),e instanceof HTMLAnchorElement?e.href=t.href:e instanceof HTMLImageElement&&(e.src=t.href)}catch(t){}}registerContentBlockerEvents(e){e.querySelectorAll(`[${Se}]`).forEach(t=>{t.addEventListener("click",o=>{o.preventDefault();let n=e.getAttribute(T);n&&L.unblockServices(n)})}),e.querySelectorAll(`[${me}]`).forEach(t=>{t.addEventListener("click",o=>{o.preventDefault(),P.unblockContentBlockerElement(e)})}),e.querySelectorAll(`[${Te}]`).forEach(t=>{let o=!1;t.addEventListener("click",n=>{var a;n.preventDefault();let s=()=>{var u;(u=document.querySelector("div.brlbs-cmpnt-cb-provider-card"))==null||u.remove(),o=!1,t.setAttribute("aria-expanded","false")};if(o)(a=document.querySelector("div.brlbs-cmpnt-cb-provider-card"))==null||a.remove(),o=!1,t.setAttribute("aria-expanded","false");else{const u=e.getAttribute(T);if(u===null)return;const l=L.findByContentBlockerId(u),d=L.findByContentBlockerId(u).providerId,C=Fe.findByProviderId(d),_=document.createElement("div");_.classList.add("brlbs-cmpnt-container","brlbs-cmpnt-content-blocker","brlbs-cmpnt-cb-provider-card"),document.body.appendChild(_),O(E(()=>h(()=>import("./provider-service-information-table.D1OMjnmL.min.js"),__vite__mapDeps([24,19,2,1,8,20,9,25]),import.meta.url)),{contentBlocker:l,provider:C,onCloseProviderCard:s}).mount(_),o=!0,t.setAttribute("aria-expanded","true")}})})}isPageInHideDialogOnPagesList(e){for(let t of c.dialogHideDialogOnPages.value)try{if(t=t.replaceAll("/","\\/"),new RegExp(`^${t}$`).test(e))return!0}catch(o){if(t.indexOf(e)!==-1)return!0}return!1}}const X=new Ze;function Xe(r){return H("POST","borlabs-cookie/v1/consent/statistic",{language:c.language.value,consentLog:r}).then(e=>e).catch(e=>{f.error(e)})}class et{add(){return k(this,null,function*(){return Xe({borlabsCookieConsentString:oe.transformToServiceGroupConsentListJSONString(p.pluginCookie.consents),iabTcfTCString:window.BorlabsCookie.Adapter.IABTCF().currentTCString,uid:p.pluginCookie.uid,version:p.pluginCookie.version})})}}const tt=new et;class ot{constructor(){i(this,"_optOutTriggered",!1);i(this,"_pauseReload",!1);i(this,"_missingOptOuts",null);i(this,"_waitingToSaveOptOutInBackend",!1)}handle(){c.cookieCrossCookieDomains.value.length&&!X.isBot()&&c.cookieCrossCookieDomains.value.forEach(function(e){const t=document.createElement("iframe"),o=x.findCookies("TCF_COOKIE");t.style.display="none",t.src=e+"?__borlabsCookieCrossDomainCookie=1&__borlabsCookieLanguage="+c.language.value+"&__borlabsCookieCookieData="+encodeURIComponent(JSON.stringify(p.pluginCookie))+"&__borlabsCookieTCString="+(o.length>0?o[0].value:"")+"&__borlabsCookieClientTime="+new Date().getTime(),document.body.appendChild(t)})}add(){return oe.add()}save(e){this.optOutTriggered=!1;const t=p.getPluginCookie().consents;let o=!0;for(const s of Object.keys(e))Array.isArray(e[s])&&e[s].length===0&&delete e[s];p.getPluginCookie().version!==0&&(Object.keys(e).length===1||JSON.stringify(e)===JSON.stringify(p.getPluginCookie().consents))&&(o=!1),p.setPluginCookie(e,!1),o&&!X.isBot()&&tt.add();const n=this.add();this.handle(),m.dispatch("consentSaved");for(const s of Object.keys(t))for(const a of t[s])if(e[s]===void 0||e[s].indexOf(a)===-1){const u=g.findByServiceId(a);u.settings["asynchronous-opt-out-code"]!==void 0&&u.settings["asynchronous-opt-out-code"]==="1"&&this.queueOptOut(a)}for(const s of Object.keys(t))for(const a of t[s])(e[s]===void 0||e[s].indexOf(a)===-1)&&(this.optOutTriggered=!0,P.unblockServiceOptOutCode(s,a));n.then(()=>{this.afterConsentsSave()})}addConsent(e,t){let o=!1;const n=y.cloneObject(p.pluginCookie.consents);return this.isValid(e)&&this.isValid(t)&&(g.isValid(e,t)?(n[t]===void 0&&(n[t]=[]),n[t].indexOf(e)===-1&&n[t].push(e),this.save(n),o=!0):f.error(`Service "${e}" in service group "${t}" unknown.`,{service:e,serviceGroup:t})),o}removeConsent(e,t){let o=!1;const n=y.cloneObject(p.pluginCookie.consents);return this.isValid(e)&&this.isValid(t)&&(g.isValid(e,t)?n[t]!==void 0&&n[t].indexOf(e)!==-1?(n[t].splice(n[t].indexOf(e),1),n[t].length===0&&delete n[t],this.save(n),o=!0):f.notice(`No consent for service "${e}" in service group "${t}".`,{service:e,serviceGroup:t}):f.error(`Service "${e}" in service group "${t}" unkown.`,{service:e,serviceGroup:t})),o}hasConsent(e,t){let o=!1;const n=p.pluginCookie.consents;if(this.isValid(e)&&(t!==void 0&&this.isValid(t)||t===void 0)){if(t!==void 0)n[t]!==void 0&&y.inArray(e,n[t])&&(o=!0);else for(const s of Object.keys(n))if(y.inArray(e,n[s])){o=!0;break}}return o}hasConsentForServiceGroup(e){let t=!1;const o=p.pluginCookie.consents;return this.isValid(e)&&o[e]!==void 0&&(t=!0),t}hasAllServicesConsented(e){if(!this.isValid(e)||w.serviceGroups[e]===void 0)return!1;const t=p.pluginCookie.consents;if(t[e]===void 0)return!1;const o=t[e];for(const n of w.serviceGroups[e].serviceIds)if(!o.includes(n))return!1;return!0}isValid(e){let t=!1;return new RegExp(/^[a-z-_]{3,}$/).test(e)?t=!0:f.error(`Service/Service group "${e}" is invalid.`,{id:e}),t}get optOutTriggered(){return this._optOutTriggered}set optOutTriggered(e){this._optOutTriggered=e}get pauseReload(){return this._pauseReload}set pauseReload(e){this._pauseReload=e}get missingOptOuts(){return this._missingOptOuts}set missingOptOuts(e){this._missingOptOuts=e}get waitingToSaveOptOutInBackend(){return this._waitingToSaveOptOutInBackend}set waitingToSaveOptOutInBackend(e){this._waitingToSaveOptOutInBackend=e}queueOptOut(e){this.missingOptOuts===null&&(this.missingOptOuts=[],this.waitingToSaveOptOutInBackend=!0),this.missingOptOuts.push(e)}optOutDone(e){if(this.missingOptOuts===null){console.log("No opt out has been initialized");return}const t=this.missingOptOuts.length;if(this.missingOptOuts=this.missingOptOuts.filter(function(o){return o!==e}),t===this.missingOptOuts.length){console.log('No opt out found for cookie "'+e+'"');return}this.asyncOptOutsDone()&&(this.missingOptOuts=null,c.reloadAfterOptOut.value&&this.reload())}asyncOptOutsDone(){return(this.missingOptOuts===null||this.missingOptOuts.length===0)&&!this.waitingToSaveOptOutInBackend}afterConsentsSave(){this.waitingToSaveOptOutInBackend=!1,c.reloadAfterOptOut.value&&this.optOutTriggered?this.asyncOptOutsDone()&&this.reload():c.reloadAfterOptIn.value&&Object.keys(p.pluginCookie).length>0&&this.reload()}reload(){this.pauseReload||location.reload()}}const A=new ot;export{ct as S,L as _,Fe as a,w as b,g as c,Qe as d,P as e,X as f,p as g,A as h,ze as i,S as j,x as k,y as l,h as m,Y as n,ut as o,ie as p,Ne as q,ne as r,Q as s,lt as t,re as u,G as v,Z as w,at as x,We as y,rt as z};
