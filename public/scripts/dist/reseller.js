(()=>{function e(o){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(o)}var o=!1;function n(){console.log("Setting iframe URL...");var e=window.location.search,n=new URLSearchParams(e),t=n.get("iframe_token"),s=n.get("access_token"),i=n.get("slug");if(null===s)return console.log("No access token found. Exiting..."),console.log("- Iframe token: "+t),console.log("- Access token: "+s),void console.log("- Slug: "+i);var l="https://energieausweis.de/energieausweise/"+i+"/?iframe_token="+t+"&access_token="+s,r=document.getElementById("iframe-energieausweis-online");if(null===r){for(var a=document.getElementsByClassName("iframe-energieausweis-online"),c=0;c<a.length;c++)0===c?(a[c].src=l,console.log("URL set to: "+l),console.log("- Iframe token: "+t),console.log("- Access token: "+s),console.log("- Slug: "+i),console.l9g("- Iframe",a[c])):a[c].style.display="none";o=!0}else r.src=l}document.addEventListener("DOMContentLoaded",(function(){o||n()})),o||n(),window.addEventListener("message",(function(o){if("https://energieausweis.de"===o.origin&&"object"!==e(o.data)){var n=window.location.search,t=new URLSearchParams(n),s=(t.get("iframe_token"),t.get("access_token")),i=JSON.parse(o.data);if(void 0!==i.frame_height){var l=document.getElementById("iframe-energieausweis-online"),r=[];null!==l?r.push(l):r=document.getElementsByClassName("iframe-energieausweis-online");for(var a=0;a<r.length;a++)r[a].contentWindow===o.source&&(r[a].style.height=i.frame_height+"px",r[a].style.overflow="hidden");null!==s&&document.getElementsByClassName("iframe-energieausweis-online")[0].scrollIntoView()}void 0!==i.set_to_top&&document.getElementsByClassName("iframe-energieausweis-online")[0].scrollIntoView(),void 0!==i.redirect_url&&(document.location.href=i.redirect_url)}}),!1)})();
//# sourceMappingURL=reseller.js.map