{"version":3,"file":"/public/scripts/dist/reseller.js","mappings":"4OAAAA,SAASC,iBAAiB,oBAAoB,WAC1C,IAAMC,EAAkBC,OAAOC,SAASC,OAClCC,EAAgB,IAAIC,gBAAgBL,GAEpCM,EAAkBF,EAAcG,IAAI,gBACpCC,EAAkBJ,EAAcG,IAAI,gBACpCE,EAAWL,EAAcG,IAAI,QAInC,GAFAG,QAAQC,IAAIL,EAAiBE,EAAiBC,GAEtB,OAApBD,EAA2B,CAC3B,IAAMI,EAAU,kEAAoEH,EAAW,kBAAoBH,EAAkB,iBAAmBE,EACxJE,QAAQC,IAAIC,GACZ,IAAMC,EAAaf,SAASgB,eAAe,gCAG3C,GAFAJ,QAAQC,IAAI,iBAAmBE,GAEZ,OAAfA,EAEA,YADAA,EAAWE,IAAMH,GAKrB,IADA,IAAMI,EAAUlB,SAASmB,uBAAuB,gCACvCC,EAAI,EAAGA,EAAIF,EAAQG,OAAQD,IAChCR,QAAQC,IAAI,mBAAoBK,EAAQE,IAC9B,IAANA,EACAF,EAAQE,GAAGH,IAAMH,EAEjBI,EAAQE,GAAGE,MAAMC,QAAU,WAM3CpB,OAAOF,iBAAiB,WAAW,SAASuB,GACxC,IAAqB,kDAAhBA,EAAMC,QAA+E,sBAAjBD,EAAMC,SACnD,WAAvB,EAAOD,EAAME,MAAlB,CAEA,IAAIA,EAAOC,KAAKC,MAAMJ,EAAME,MAE5B,QAAyBG,IAAtBH,EAAKI,aAA4B,CAChC,IAAIC,EAAS/B,SAASgB,eAAe,gCACjCE,EAAU,GAEC,OAAXa,EACAb,EAAQc,KAAKD,GAEbb,EAAUlB,SAASmB,uBAAuB,gCAG9C,IAAI,IAAIC,EAAI,EAAGA,EAAIF,EAAQG,OAAQD,IAC3BF,EAAQE,GAAGa,gBAAkBT,EAAMU,SACnChB,EAAQE,GAAGE,MAAMa,OAAST,EAAKI,aAAe,KAC9CZ,EAAQE,GAAGE,MAAMc,SAAW,eAKfP,IAAtBH,EAAKW,eACJrC,SAASI,SAASkC,KAAOZ,EAAKW,kBAEnC,I","sources":["webpack://enon/./public/scripts/src/reseller.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function() {\n    const enonQueryString = window.location.search;\n    const enonUrlParams = new URLSearchParams(enonQueryString);\n\n    const enonIframeToken = enonUrlParams.get(\"iframe_token\");\n    const enonAccessToken = enonUrlParams.get(\"access_token\");\n    const enonSlug = enonUrlParams.get(\"slug\");\n\n    console.log(enonIframeToken, enonAccessToken, enonSlug);\n\n    if( enonAccessToken !== null ) {\n        const enonUrl = \"https://www.energieausweis-online-erstellen.de/energieausweise/\" + enonSlug + \"/?iframe_token=\" + enonIframeToken + \"&access_token=\" + enonAccessToken;\n        console.log(enonUrl);\n        const enonIframe = document.getElementById(\"iframe-energieausweis-online\");\n        console.log(\"Iframe by id: \" + enonIframe);\n\n        if( enonIframe !== null ) {\n            enonIframe.src = enonUrl;\n            return;\n        }\n\n        const iframes = document.getElementsByClassName(\"iframe-energieausweis-online\");\n        for (let i = 0; i < iframes.length; i++) {\n            console.log(\"Iframe by class:\"+ iframes[i]);\n            if( i === 0 ){\n                iframes[i].src = enonUrl;\n            } else {\n                iframes[i].style.display = \"none\";\n            }\n        }     \n    }\n});\n\nwindow.addEventListener(\"message\", function(event) {\n    if ( event.origin != \"https://www.energieausweis-online-erstellen.de\" && event.origin !== 'https://enon.test'  ) return;\n    if ( typeof event.data  === 'object' ) return;\n    \n    var data = JSON.parse(event.data);\n\n    if(data.frame_height !== undefined) {\n        let iframe = document.getElementById(\"iframe-energieausweis-online\");\n        let iframes = [];\n\n        if( iframe !== null ) {\n            iframes.push(iframe);\n        } else {\n            iframes = document.getElementsByClassName(\"iframe-energieausweis-online\");\n        }\n\n        for(let i = 0; i < iframes.length; i++) {\n            if( iframes[i].contentWindow === event.source) {\n                iframes[i].style.height = data.frame_height + \"px\";\n                iframes[i].style.overflow = \"hidden\";\n            }\n        }\n    }\n    \n    if(data.redirect_url !== undefined) {\n        document.location.href = data.redirect_url;\n    }\n}, false) ;"],"names":["document","addEventListener","enonQueryString","window","location","search","enonUrlParams","URLSearchParams","enonIframeToken","get","enonAccessToken","enonSlug","console","log","enonUrl","enonIframe","getElementById","src","iframes","getElementsByClassName","i","length","style","display","event","origin","data","JSON","parse","undefined","frame_height","iframe","push","contentWindow","source","height","overflow","redirect_url","href"],"sourceRoot":""}