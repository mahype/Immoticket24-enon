(()=>{function e(o){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(o)}var o=!1;function n(){var e=document.getElementsByClassName("iframe-energieausweis-online");if(console.log("energieausweis.de:"),0===e.length)return console.log("No iframes found. Exiting..."),console.log("Make sure that the iframe is available and already loaded."),void console.log("If frame is blocked by a cookie blocker on loading, please be sure to execute the enonIframeSetUrl() function after the DOM is loaded completely.");console.log("Setting iframe URL...");var n=window.location.search,t=new URLSearchParams(n),l=t.get("iframe_token"),s=t.get("access_token"),a=t.get("slug");if(null!==s){console.log("Iframe parameters found."),console.log("- Iframe token: "+l),console.log("- Access token: "+s),console.log("- Slug: "+a);var r="https://energieausweis.de/energieausweise/"+a+"/?iframe_token="+l+"&access_token="+s,i=document.getElementById("iframe-energieausweis-online");if(null!==i)return console.log("URL set to: "+r),console.log("- Iframe token: "+l),console.log("- Access token: "+s),console.log("- Slug: "+a),console.log("- Iframe",i),i.src=r,void(o=!0);for(var c=0;c<e.length;c++)0===c?(e[c].src=r,console.log("URL set to: "+r),console.log("- Iframe token: "+l),console.log("- Access token: "+s),console.log("- Slug: "+a),console.log("- Iframe",e[c]),o=!0):e[c].style.display="none"}else console.log("No iframe parameters found. Exiting...")}document.addEventListener("DOMContentLoaded",(function(){o||n()})),o||n(),window.addEventListener("message",(function(o){if("https://energieausweis.de"===o.origin&&"object"!==e(o.data)){var n=window.location.search,t=new URLSearchParams(n),l=(t.get("iframe_token"),t.get("access_token")),s=JSON.parse(o.data);if(void 0!==s.frame_height){var a=document.getElementById("iframe-energieausweis-online"),r=[];null!==a?r.push(a):r=document.getElementsByClassName("iframe-energieausweis-online");for(var i=0;i<r.length;i++)r[i].contentWindow===o.source&&(r[i].style.height=s.frame_height+"px",r[i].style.overflow="hidden");null!==l&&document.getElementsByClassName("iframe-energieausweis-online")[0].scrollIntoView()}void 0!==s.set_to_top&&document.getElementsByClassName("iframe-energieausweis-online")[0].scrollIntoView(),void 0!==s.redirect_url&&(document.location.href=s.redirect_url)}}),!1)})();
